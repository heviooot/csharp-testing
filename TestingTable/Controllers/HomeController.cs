using System.Diagnostics;
using Microsoft.AspNetCore.Mvc;
using TestingTable.Models;

using System.Text.Json;
using System.Text.Json.Serialization;
using Microsoft.AspNetCore.Hosting.Server;
using Newtonsoft.Json;

namespace TestingTable.Controllers;

public class HomeController : Controller
{
    private readonly ILogger<HomeController> _logger;

    public HomeController(ILogger<HomeController> logger)
    {
        _logger = logger;
    }



    public IActionResult Index()
    {
        string myJsonResponse = @"{""data"":[{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-01-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5993404374.1066,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-01-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":17197870.17,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-01-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4771317064.7979,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-01-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2579597627.17,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-01-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":31489379215.18,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4593482455.87,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":19326490.88,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5264948514.7759,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4707841871.6,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5244000,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-02-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":29074070691.02,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":6185718928.0129,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":29102490.56,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5720146640.0577,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2202812245.91,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":25208061.615,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-03-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":32317332693.23,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5303660034.1939,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":33648072.4,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5956946147.2363,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3451321765.0657,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":6500877,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-04-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":39306272072.24,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-05-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2866205207.03,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-05-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":38383787.06,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-05-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4616365387.28,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-05-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2917356238.15,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-05-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":25060758244.42,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-06-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4575575231.48,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-06-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":21592915.29,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-06-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":9422634279.55,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-06-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3630854673.73,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-06-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":32529053225.27,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-07-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4299056026.58,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-07-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":15964987.22,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-07-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2876196560.82,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-07-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2731021850.13,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-07-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":35270050542.22,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4071754543.206,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":25021497.14,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4906047266.533,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4657419824.3,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":11501293.15,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-08-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":41689655788.88,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-09-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3856348374.2995,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-09-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":58664181.65,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-09-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3504913711.6611,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-09-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":4171577879.85,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-09-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":44315200637.78,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-10-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3415475734.9812,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-10-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":40684789.04,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-10-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":3600781353.89,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-10-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":7988961219.57,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-10-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":44039322527.67,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5033180387.03,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":37553268.91,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":2303081296.18,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5415303602.23,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":8724375,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-11-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":47094297717.66,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""AG"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":5433342772.88,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BK"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":36715057.73,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""BR"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":15413494237.73,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""DI"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":8706063945.01,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""IL"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":41508570.93,""comm"":0,""disc"":0},{""policy_no"":null,""pol_end_no"":null,""post_date"":""2022-12-01T00:00:00"",""distribution_code"":null,""distribution_name"":null,""distribution_type"":""LS"",""acting_code"":null,""lob_code"":null,""pol_office"":null,""premium"":55713034456.21,""comm"":0,""disc"":0}]}";

        // Rubah JSONnya Cindy jadi Object
        Sob myDeserializedClass = JsonConvert.DeserializeObject<Sob>(myJsonResponse);

        // Ovor datanya ke View
        return View(myDeserializedClass.data);
    }

    public IActionResult Privacy()
    {
        return View();
    }

    [ResponseCache(Duration = 0, Location = ResponseCacheLocation.None, NoStore = true)]
    public IActionResult Error()
    {
        return View(new ErrorViewModel { RequestId = Activity.Current?.Id ?? HttpContext.TraceIdentifier });
    }
}

